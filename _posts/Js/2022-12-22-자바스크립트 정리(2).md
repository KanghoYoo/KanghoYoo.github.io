---
title: 자바스크립트 정리(2)(22.12.23 수정)
date: 2022-12-22 +/-TTTT
categories: [JavaScript, Interview]
tags: [javascript] # TAG names should always be lowercase
---

# 🔖 자바스크립트 정리(2)

### 파싱(parsing)

- 파싱(구문 분석)은 프로그래밍 언어의 문법에 맞게 작성된 텍스트 문서를 읽어 들여 실행하기 위해 텍스트 문서의 문자열을 토큰으로 분해(어휘분석)하고, 토큰에 문법적 의미와 구조를 반영하여 트리 구조의 자료구조인 파스 트리(parse/syntax tree)를 생성하는 일련의 과정을 말한다.
- 일반적으로 파싱이 완료된 후에는 파스트리를 기반으로 중간 언어인 바이트코드를 생성하고 실행한다.



### 렌더링(rendering)

- HTML, CSS, 자바스크립트로 작성된 문서를 파싱하여 브라우저에 시각적으로 출력하는 것을 의미한다.



### 브라우저의 렌더링 과정

1. 브라우저는 HTML, CSS, JS, 이미지, 폰트 파일 등 렌더링에 필요한 리소스를 요청하고 서버로부터 응답 받는다.
2. 브라우저의 렌더링 엔진은 서버로부터 응답된 HTML, CSS를 파싱하여 브라우저가 이해할 수 있는 자료구조인 DOM과 CSSOM을 생성하고 이들을 결합하여 렌더트리를 생성한다.
3. 브라우저의 자바스크립트 엔진은 서버로부터 응답된 자바스크립트를 파싱하여 AST(추상 구문 트리)를 생성하고 AST를 기반으로 인터프리터가 실행할 수 있는 바이트코드를 생성하여 인터프리터에 의해 실행한다. 이때 자바스크립트는 DOM API를 통해 DOM이나 CSSOM을 변경할 수 있다. 변경된 DOM과 CSSOM은 다시 렌더트리로 결합된다.
4. 렌더 트리를 기반으로 HTML 요소의 레이아웃을 계산하고 브라우저의 화면에 HTML 요소를 페인팅한다.







---

### REST API

- REST 기반으로 서비스 API를 구현하는 것

  - **REST**: 자원을 이름으로 구분하여 해당 자원의 상태를 주고 받는 모든 것을 의미한다.

  - HTTP URI를 통해 자원을 명시하고 HTTP 메서드를 통해 해당 자원에 대한 CRUD를 적용한다.

    - 즉, 자원 기반의 구조 설계의 중심에 자원이 있고, HTTP 메서드를 통해 이를 처리한다.

  - > ##### API(Application Programming Interface)
    >
    > 응용프로그램에서 사용할 수 있도록 운영 체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스이다.
    >
    > - 즉, 프로그램끼리 통신할 수 있도록 하는 중재자이다.
    >
    > 
    >
    > ##### Interface
    >
    > 쉽게 말해 기본설계도를 의미한다. 즉 밑그림과 같다.
    >
    > - 추상 메서드와 상수만이 프로퍼티로 가능하다.
    >
    > - 표준, 약속, 규칙을 의미한다.
    >
    > 
    >
    > ##### 추상화
    >
    > 공통 프로퍼티와 메서드를 뽑아내는 작업을 의미한다.
    >
    > - 복잡한 자료, 모듈, 시스템으로부터 핵심적인 개념 또는 기능을 간추려 내는 것을 의미한다.
    > - 장점: **코드 중복**을 방지할 수 있고 **재사용**을 할 수 있다.
    > - 캡슐화와 정보은닉에 이용된다.
    >
    > 
    >
    > ##### 캡슐화
    >
    > 프로퍼티와 메서드를 묶는 작업을 의미한다.
    >
    > - 중요데이터에 접근하지 못하게 하기 위해 사용한다.
    > - #을 사용하여 private로 가능하다.

- REST API의 특징

  - REST API는 HTTP 표준을 기반으로 구현된다.
  - REST 기반으로 시스템을 분산시켜 확장성, 재사용성을 높여 유지보수와 운용을 쉽게 할 수 있게 만들어준다.



### Restful API

- REST 기반으로 서비스 API를 구현한 것을 의미한다.

- Rest API를 제공하는 웹서비스를 Restful 하다고 할 수 있다.
- 구성
  - 자원, 행위, 표현의 3가지 요소로 구성된다.
    - 자원: URI
    - 행위: HTTP 요청 메서드
    - 표현: 페이로드

- **HTTP API 설계원칙**
  1. **URI**는 리소스를 표현해야한다.
  2. 리소스에 대한 행위는 **HTTP 요청 메서드**로 표현한다.
- **HTTP 메서드**(자주 사용하는 4가지)
  - **GET**: 클라이언트로부터 요청받은 URI 정보를 검색하여 **응답**하는 것
  - **POST**: 클라이언트로부터 요청받은 자원을 **생성**하는 것
  - **PUT**: 클라이언트로부터 요청받은 자원(전체)을 **수정**하는 것
  - **PATCH**: 클라이언트로부터 요청받은 자원(일부)을 **수정**하는 것
  - **Delate**: 클라이언트로부터 요청받은 자원을 **삭제**하는 것





### 자바스크립트의 비동기 코딩

자바스크립트 엔진은 싱글 스레드 방식으로 동작한다.

> ##### 싱글 스레드
>
> 한 번에 하나의 태스크만 실행할 수 있는 것을 의미한다.
>
> ##### 동기처리
>
> 현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식을 의미한다.
>
> 장점: 실행순서가 보장된다.
>
> 단점: 앞의 태스크가 종료할 때까지 이후 태스크들이 블로킹된다.
>
> ##### 비동기처리
>
> 현재 실행 중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식을 의미한다.
>
> 장점: 블로킹이 발생하지 않는다.
>
> 단점: 태스크의 실행순서가 보장되지 않는다.
>
> 비동기 함수: 콜백 패턴을 사용한다.
>
> 비동기 처리 방식: 타이머 함수, HTTP 요청, 이벤트 핸들러

- Proimise
  - ES6에서 도입되어 전통적인 콜백 패턴이 가진 단점을 보완하며 비동기 처리시점을 명확히 표현할 수 있다.
  - .than 메서드는 promise가 처리될때 까지 대기한다.//

- 콜백함수
  - 콜백헬이 발동할 수 있다.
    - 가독성이 나빠지고 비동기 처리중 발생한 에러의 예외처리가 곤란하며, 여러 개의 비동기 처리를 한번에 처리하는 데 한계가 있다.
- async / await
  - 프로미스의 후속 처리 메서드 없이 마치 동기처리처럼 프로미스가 처리결과를 반환하도록 구현할 수 있다.
  - async: 해당함수는 항상 promise를 반환한다.
  - await: promise가 처리될때 까지 대기한다.




### 자바스크립트의 동작 원리(이벤트 루프)

- 일반적인 작업은 Call Stack에서 진행한다.
- 시간이 소요되는 작업(setTimeout, Event, HTTP 요청 메서드)들은 Web API 대기 후에 Callback Queue로 보내진다.

- Call Stack이 비워있을 때만 Callback Queue에 저장된 작업들을 Call Stack으로 보낸다.

> ##### 태스크 큐
>
> 비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역이다.
>
> ##### 마이크로 큐
>
> 태스크 큐와 별도로 프로미스의 후속 처리 메서드의 콜백 함수가 일시적으로 보관되는 영역이다.
>
> ##### 이벤트 루프 
>
> 콜스택에 현재 실행 중인 실행 컨텍스트가 있는 지, 태스크 큐에 대기 중인 함수가 있는지 반복적으로 확인하는 것을 의미한다.

